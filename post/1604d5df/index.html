<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
      
    
    
      
    
  <script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/blue/pace-theme-minimal.min.css">







  <meta name="google-site-verification" content="GNI8KNzHxdOObg1xzQwHXPStlrnPJHC4Cw1iZMCCe9U">














  
  
  
  

  

  

  

  

  

  






  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/main.css?v=7.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.0.0',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: false,
    fastclick: false,
    lazyload: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: 'LEJ8JV9ZSY',
      apiKey: '9572d9f139c3c642cdbaaa2caf3123c9',
      indexName: 'searchIndex',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Linux, RHEL 7">
<meta name="keywords" content="Linux,RHEL 7">
<meta property="og:type" content="article">
<meta property="og:title" content="LinuxNote">
<meta property="og:url" content="http://www.taoblog.cn/post/1604d5df/index.html">
<meta property="og:site_name" content="TaoBlog">
<meta property="og:description" content="Linux, RHEL 7">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==">
<meta property="og:updated_time" content="2021-02-19T02:36:57.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LinuxNote">
<meta name="twitter:description" content="Linux, RHEL 7">
<meta name="twitter:image" content="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==">



  <link rel="alternate" href="/atom.xml" title="TaoBlog" type="application/atom+xml">




  <link rel="canonical" href="http://www.taoblog.cn/post/1604d5df/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>LinuxNote | TaoBlog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">TaoBlog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Sharing makes us better</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签<span class="badge">50</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类<span class="badge">17</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档<span class="badge">23</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-message">

    
    
    
      
    

    
      
    

    <a href="/message/" rel="section"><i class="menu-item-icon fa fa-fw fa-comment"></i> <br>留言板</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.taoblog.cn/post/1604d5df/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="吴涛涛">
      <meta itemprop="description" content="wutaotao personal blog">
      <meta itemprop="image" content="http://wutaotaospace.oss-cn-beijing.aliyuncs.com/image/maya.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TaoBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">LinuxNote

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-10 09:57:10 09:57:10" itemprop="dateCreated datePublished" datetime="2019-05-10T09:57:10+08:00">2019-05-10 09:57:10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2021-02-19 10:36:57 10:36:57" itemprop="dateModified" datetime="2021-02-19T10:36:57+08:00">2021-02-19 10:36:57</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/post/1604d5df/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/post/1604d5df/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/post/1604d5df/" class="leancloud_visitors" data-flag-title="LinuxNote">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">26k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">23 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Linux, RHEL 7<br><a id="more"></a></p>
<h2 id="RHEL-7-虚拟机安装"><a href="#RHEL-7-虚拟机安装" class="headerlink" title="RHEL 7 虚拟机安装"></a>RHEL 7 虚拟机安装</h2><p>我是在ubantu LTS 18.04 系统中 xfce 桌面下用vmware workstation pro 15安装的<br><code>rhel-server-7.6-x86_64-dvd.iso</code></p>
<p>安装过程参照《linux就该这么学》一书，本文也是学习该书的笔记，<br>以后翻看《鸟哥的linux私房菜》时相应笔记也会补充到其中。</p>
<h2 id="常用linux命令"><a href="#常用linux命令" class="headerlink" title="常用linux命令"></a>常用linux命令</h2><p>在使用命令前，在终端上编辑bash终端命令本身有快捷键可以使用，记录如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">move</span><br><span class="line">ctrl + f   move forward a character</span><br><span class="line">ctrl + b   move backward a character</span><br><span class="line">alt  + f   move forward a word</span><br><span class="line">alt  + b   move backward a word</span><br><span class="line">ctrl + a   move to the beginning </span><br><span class="line">ctrl + e   move to the end</span><br><span class="line"></span><br><span class="line">edit</span><br><span class="line">backspace  delete backward  a character</span><br><span class="line">delete     delete forward   a character</span><br><span class="line">ctrl + d  命令行为空时为退出终端，不为空时删除光标下的字符，应谨慎使用</span><br><span class="line">ctrl + u  cut from cursor to the beginning (bash中叫kill and yank)</span><br><span class="line">ctrl + k  cut from cursor to the end</span><br><span class="line">ctrl + w  cut backward a word, 注意没有cut forward a word的快捷键，</span><br><span class="line">          可以使用alt+f再ctrl+w来向前删除。</span><br><span class="line">ctrl + y  paste what you have cut. 之后可以用alt+y来切换剪贴板的记录。</span><br><span class="line">ctrl + l  clean the screen 当前命令行字符不会受影响</span><br></pre></td></tr></table></figure></p>
<h3 id="简单命令"><a href="#简单命令" class="headerlink" title="简单命令"></a>简单命令</h3><ol>
<li>echo<br>echo $SHELL  输出SHELL变量的值</li>
<li>date<br>date “+%Y-%m-%d %H:%M:%S”  格式化输出当前时间<br>date -s “20170901 8:30:00” 设置当前时间<br>date “+%j” 用来显示当前时间是今年中的第几天，可以方便用来比较文件距离当前时间的新旧程度。</li>
<li>reboot<br>重启命令需要管理员权限，有管理员权限的可以使用sudo reboot，没有的可以su root切换到root用户</li>
<li>poweroff<br>关机命令需要管理员权限</li>
<li>wget<br>从<code>man wget</code>的description中可以对wget命令有大概的认识,这里总结如下：<br>wget是一个非交互方式的网络下载器，它可以在后台运行，这意味者用户不需要登录也可以在后台<br>进行下载操作。它还支持递归下载，跟踪网页中的链接。同时支持断点续传。<br>常用参数：<br>-b  –backgroud 后台下载模式<br>-p  –page-requisites  下载需要正常展示一个页面的所有资源，包括图片，视频等<br>-P  prefix 指定下载目录<br>-t  retries 最大尝试次数 默认20次，拒绝链接或404时不会尝试<br>-c  –continue  断点续传<br>-r  –recursive  递归下载，默认层数是5层<br>-l  –level  指定最大递归层数</li>
<li>ps<br>report a snapshot of current process 当前进程的快照<br>ps -ef  是standard sympton<br>ps -aux 是BSD语法<br>进程状态：<br>R run运行状态或等待运行<br>S 中断<br>D 不可中断，不响应异步信号，无法kill<br>Z 僵死 进程已经中止，但描述符仍存在<br>T 停止运行</li>
<li>top<br>ps是快照，top是动态监控系统进程信息</li>
<li>pidof<br>查询某个进程的pid值,如 pidof sshd</li>
<li>kill<br>终止某个进程，如kill 2856</li>
<li>killall<br>用来杀死某个服务的所有进程，如killall httpd</li>
</ol>
<h3 id="系统状态检测命令"><a href="#系统状态检测命令" class="headerlink" title="系统状态检测命令"></a>系统状态检测命令</h3><ol>
<li><p>ifconfig<br>默认查看活动的网卡接口，-a查看所有网卡接口<br>inet后是ip地址，ether后是物理网卡地址（MAC地址）<br>ifconfig -a </p>
</li>
<li><p>uname<br>查看系统内核和系统版本等信息<br>uname -a<br>rhel可以使用cat /etc/redhat-release查看当前系统版本的详细信息</p>
</li>
<li><p>uptime<br>查看系统负载信息<br>具体显示系统启动时间，已运行时间，运行中的和不可中断的进程的平均负载情况，1,5,15分钟时间内,<br>建议不要长期超过1,生产不超过5.<br>注: 由fish shell切换回bash时，发现系统启动时间是bash切换的时间</p>
</li>
<li><p>free<br>内存使用量<br>free -h 将数字转化为G为单位，方便阅读</p>
</li>
<li><p>who<br>显示正在登录的用户终端信息<br>用户名 终端设备 登录时间（不受终端Shell影响）</p>
</li>
<li><p>last<br>查看系统登录记录<br>查询的是日志文件，黑客可以修改，所以无法作为是否被入侵的依据。</p>
</li>
<li><p>history<br>显示最近使用的命令，默认1000条<br>bash上有数字显示,其显示的是<code>~/.bash_history</code>内容（fish上执行history是不同的命令，没有数字）<br>可以使用！15来执行第15条命令<br>history -c 可以清除命令</p>
</li>
<li><p>sosreport<br>输出系统配置和诊断信息<br>rhel上执行报no plugins enabled,使用sosreport -l发现插件都需要root权限。<br>注：针对打出的诊断包.tar.xz格式可以使用<code>tar -Jxf XX.tar.xz</code>来解压</p>
</li>
</ol>
<h3 id="工作目录切换"><a href="#工作目录切换" class="headerlink" title="工作目录切换"></a>工作目录切换</h3><ol>
<li>pwd  显示当前目录</li>
<li>cd  切换工作路径<br>cd -  切换到上一次所处的目录</li>
<li>ls<br>目录中的文件信息<br>ls -al  显示所有文件</li>
</ol>
<h3 id="文本文件编辑命令"><a href="#文本文件编辑命令" class="headerlink" title="文本文件编辑命令"></a>文本文件编辑命令</h3><ol>
<li>cat<br>cat -n 查看文本内容并显示行号</li>
<li>more<br>显示部分文本文件，会显示当前行所在百分比，用空格会查看下一页内容，回车查看下一行内容<br>推荐使用less命令</li>
<li>head  默认10行<br>head -n 20 XX.file   显示XX文件前20行内容，显示后无法进一步操作</li>
<li>tail  默认10行<br>tail -100f XX.file   显示文件最后100行内容并持续刷新</li>
<li>tr 简化版的sed命令，可以进行简单删除，替换操作。<br>echo “hello 23 world 45” | tr -d ‘2345’  删除 输出hello world<br>echo “helllllo wooorld” | tr -s ‘lo’     压缩 输出helo world<br>echo “helllllo wooorld” | tr [a-z] [A-Z]   转换大小写 输出HELLLLLO WOOORLD</li>
<li>wc  word count<br>wc XXX    依次显示XXX文件的行数，单词数，字节数<br>也可以单独显示某个信息，如:<br>wc -l XXX   只显示行数lines<br>wc -w XXX   只显示单词个数words<br>wc -c XXX   只显示字节数bytes</li>
<li>stat<br>stat XXX   显示XXX文件的存储信息和access,modify,change时间</li>
<li>cut  按列提取文件数据<br>cut -d: -f1 /etc/passwd   -d为delimiter为:, -f1指定第一列</li>
<li>diff<br>diff -q A.txt B.txt   相当于–brief 显示是否不同<br>diff -c A.txt B.txt   显示2个文件，并用感叹号显示出不同的行</li>
</ol>
<h3 id="文件目录管理命令"><a href="#文件目录管理命令" class="headerlink" title="文件目录管理命令"></a>文件目录管理命令</h3><ol>
<li>touch 新建一个文件或修改一个文件的修改时间，读取时间等<br>touch -a    只修改文件读取时间 atime   access<br>touch -m    只修改文件修改时间 mtime   modify<br>touch -d    同时修改atime和mtime    date<br>如touch -d “2019-01-01 10:00” XXX   修改XXX文件的读取和修改时间 </li>
<li>mkdir  创建文件夹<br>mkdir dir<br>mkdir -p a/d/b  创建所需的层级目录(parent, 必要时创建父目录)</li>
<li>cp<br>-a   保留文件属性 同-pdr 权限，软链接，递归复制<br>-r   递归持续复制<br>-i   若目标文件存在则进行询问<br>cp a.txt aBack.txt</li>
<li>mv<br>mv a.txt b.txt</li>
<li>rm<br>rm -rf dir/</li>
<li><p>dd<br>复制或转换一个文件，可用来创建指定大小的文件，或快速制作iso文件<br>if  输入文件<br>of  输出文件<br>bs  每个块的大小<br>count 块的个数</p>
<p>dd if=/dev/zero of=aFile count=1 bs=560M  创建一个560M的文件aFile(/dev/zero为无限空间设备名)<br>dd if=/dev/cdrom of=RHEL-server-7-x86_64.iso  从光盘中制作镜像文件</p>
</li>
<li>file<br>由于linux中文本，目录，设备都是文件，可以使用file命令来查看文件类型<br>file a         ASCII text<br>file /dev/sda    block special</li>
</ol>
<h3 id="打包压缩与搜索命令"><a href="#打包压缩与搜索命令" class="headerlink" title="打包压缩与搜索命令"></a>打包压缩与搜索命令</h3><ol>
<li><p>tar<br>tar option file<br>-c  压缩  create a archive<br>-x  解压  extract<br>-z  使用gzip压缩或解压<br>-j  使用bzip2压缩或解压<br>-v  显示压缩或解压过程 verbose<br>-f  指定目标文件名 file   (需要在参数的最后一位)<br>-C  指定解压到的目录 –directory<br>-p  保留权限与属性信息  –preserve-permissions<br>-P  使用绝对路径来压缩 –absolute-names<br>-t  显示压缩包内的文件列表  –list<br>常用用法<br>tar -czvf a.tar.gz /a<br>mkdir ss<br>tar -xzvf a.tar.gz -C ./ss/   解压无法自动创建目录，需要手动创建，使用-C指定解压目录  </p>
</li>
<li><p>grep<br>grep [options] pattern [file]<br>-i    –ignore-case 忽略大小写<br>-n    –line-number 显示行号<br>-v    –invert-match 反向选择，列出不匹配的行<br>-c    –count  仅显示行数<br>-b    将可执行文件作为text文本搜索<br>grep -n /sbin/nologin /etc/passwd</p>
</li>
<li><p>find<br>find path expression(expression由options, tests, actions组成)<br>其中tests有以下选项：<br>-name  按文件名搜索<br>-perm  按权限搜索 -perm mode 为完全匹配， -perm -mode为包含即可<br>-user  匹配拥有者<br>-group 匹配组<br>-mtime 匹配修改的时间 -n n天以内 +n n天以前<br>-atime 匹配访问的时间 -n n天以内 +n n天以前<br>-ctime 匹配修改文件权限的时间  -n n天以内 +n n天以前<br>-nouser  匹配无拥有者的文件<br>-nogroup 匹配无拥有组的文件<br>-newer f1 !f2  匹配比f1新，比f2旧的文件<br>–type 匹配文件类型<br>  b 块设备 d 目录 c 字符设备 p 管道 l 链接文件 f 文本文件<br>-size  匹配文件大小 +50KB查找大于50KB的文件，-50KB查找小于50KB的文件<br>-prune  忽略某个目录<br>-exec {} \;  对搜索结果进行处理, {}表示匹配成功的每一个文件，命令以\;结尾<br><code>find /etc -name &quot;host*&quot; -print</code><br>find / -perm -4000 -print<br>find / -user linuxprobe -exec cp -a {} /root/findresults/ \;</p>
</li>
</ol>
<h2 id="管道符、重定向与环境变量"><a href="#管道符、重定向与环境变量" class="headerlink" title="管道符、重定向与环境变量"></a>管道符、重定向与环境变量</h2><h3 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h3><p>标准输入重定向(STDIN, 文件描述符为0)  默认从键盘输入，也可为其他文件或命令<br>标准输出重定向(STDOUT，文件描述符为1) 默认输出到屏幕<br>错误输出重定向(STDERR, 文件描述符为2) 默认输出到屏幕</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt; aFile   将文件作为命令的标准输入</span><br><span class="line">&lt;&lt; ;    从标准输入中读取，直到分界符;才停止</span><br><span class="line">&lt; afile &gt; bifle  afile作为标准输入，bfile作为标准输出</span><br><span class="line"></span><br><span class="line">&gt; afile   标准输出重定向到afile,并清空afile原有内容</span><br><span class="line">2&gt; afile  将错误输出重定向到afile中，并清空afile原有内容(注意2后没有空格)</span><br><span class="line">&gt;&gt; afile  标准输出重定向到afile,追加到afile原有内容后</span><br><span class="line">2&gt;&gt; afile 错误输出重定向到afile,追加到afile原有内容后</span><br><span class="line">&gt;&gt; afile 2&gt;&amp;1 或 &amp;&gt;&gt; afile  这2个命令都代表标准输出和错误输出共同重定向到afile文件(追加)</span><br><span class="line">&gt; afile 2&gt;&amp;1 或 &amp;&gt; afile 这2个命令都代表标准输出和错误输出共同重定向到afile文件(清空)</span><br></pre></td></tr></table></figure>
<p>其中，文件描述符1可以忽略不写，如<code>1&gt; afile</code>写为<code>&gt; afile</code>, 2不能省略</p>
<p>输入重定向如<code>wc -l &lt; a.txt</code>显示a.txt文件中内容的行数<br>(可用cat a.txt | wc -l代替)</p>
<h3 id="管道命令符"><a href="#管道命令符" class="headerlink" title="管道命令符"></a>管道命令符</h3><p>如grep会打印出符合条件的行内容，wc -l会显示文件行数，可以使用管道符来打印出符合条件的行数<br>(虽然可以用grep的-c参数…).</p>
<p>在修改密码时要求从键盘中输入密码，在自动化脚本中无法实现，可以使用管道符和passwd命令的<br>–stdin参数完成这一功能。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su root</span><br><span class="line">echo &quot;root&quot; | passwd --stdin root</span><br></pre></td></tr></table></figure></p>
<p>不同用户间发送邮件,如用户root发送给用户tao,标题为subject,内容为hello tao<br><code>echo &quot;hello tao&quot; | mail -s &quot;subject&quot; tao</code><br>注：经测试用户tao给root写信没有成功…</p>
<p>使用&lt;&lt; ;重定向输入直到分界符;可以连续输入多行邮件内容，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mail -s &quot;test&quot; tao &lt;&lt; over</span><br></pre></td></tr></table></figure></p>
<p>可以输入多行内容，直到最后一行以精准的over结束为止，不能多或少字符，空格等。</p>
<h3 id="命令行的通配符"><a href="#命令行的通配符" class="headerlink" title="命令行的通配符"></a>命令行的通配符</h3><p>与正则表达式不完全相同的是通配符的含义：</p>
<ul>
<li>表示0个或多个字符(相同)<br>? 表示1个字符(不同)<br>[] 匹配中括号中的一个字符(相同)</li>
</ul>
<h3 id="常用的转义字符"><a href="#常用的转义字符" class="headerlink" title="常用的转义字符"></a>常用的转义字符</h3><p>\  使特殊字符变为普通字符<br>‘  使引号中的变量变为单纯字符<br>“  将其中的变量求值后输出<br>`  执行其中的命令后返回结果</p>
<p>如执行命令echo “price is $PRICE” 会输出price is 5,双引号对变量求值。<br>而$$会打印出当前程序的进程ID,所以可以使用echo “price is \$$PRICE”来输出price is $5.<br>需要某个命令的输出值时可以使用反引号。</p>
<h3 id="重要的环境变量"><a href="#重要的环境变量" class="headerlink" title="重要的环境变量"></a>重要的环境变量</h3><p>linux终端执行命令步骤:</p>
<ol>
<li>检查用户命令是否以绝对路径或相对路径输入命令，如果是则直接执行。</li>
<li>检查命令是否是别名alias,如根用户执行命令<code>alias rm</code>可以看见输出<br><code>alias rm=&#39;rm -i&#39;</code>, 说明系统默认将rm命令加上-i参数执行。</li>
<li>判断命令是内部命令还是外部命令，内部命令是解释器内部的指令，它会直接执行;外部命令会由<br>步骤4继续执行。如执行命令<code>type cd</code>或<code>type pwd</code>可以看见输出为XXX is a shell builtin，说明<br>其为内部命令。</li>
<li>系统在PATH变量中寻找该命令文件执行。PATH变量是由多个路径组成的变量，由冒号分割，可以使用<br>命令<code>echo $PATH</code>查看PATH变量的值。</li>
</ol>
<p>不能将当前目录添加到PATH变量的原因为: 黑客可以将一个与ls命令(本身是别名)同名的木马文件存放<br>到某个常用公共目录中，用户在该目录执行ls命令时会根据环境变量找到当前目录下的木马文件执行，<br>从而中招。</p>
<p>最重要的10个环境变量:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1. HOME    家目录</span><br><span class="line">2. SHELL   当前使用的Shell解释器名称</span><br><span class="line">3. HISTSIZE        输出的历史命令记录条数</span><br><span class="line">4. HISTFILESIZE    保存的历史命令记录条数</span><br><span class="line">5. MAIL       邮件保存路径</span><br><span class="line">6. LANG    系统语言</span><br><span class="line">7. RANDOM   生成一个随机数字</span><br><span class="line">8. PS1     Bash解释器提示符</span><br><span class="line">9. PATH    解释器搜索用户执行命令路径</span><br><span class="line">10. EDITOR 用户默认文本</span><br></pre></td></tr></table></figure></p>
<p>不同用户看到的相同环境变量可能不同，如root用户与普通用户查看到的HOME变量就不同。<br>可以使用export命令导出自定义的环境变量，这样做相当于将其提升为全局变量。</p>
<h2 id="vim编辑器与Shell命令脚本"><a href="#vim编辑器与Shell命令脚本" class="headerlink" title="vim编辑器与Shell命令脚本"></a>vim编辑器与Shell命令脚本</h2><p>TBD</p>
<h2 id="scp命令"><a href="#scp命令" class="headerlink" title="scp命令"></a>scp命令</h2><p>因为工作中经常需要上传前台页面的jsp和js文件到服务器上(只有服务器上才能调用后台接口), 一直<br>使用ftp工具图形化界面上传，用久了突然反应过来可以用ssh远程登录和scp命令进行操作，方便快捷。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">upload to server</span><br><span class="line">scp 1.txt 2.txt user@ip:/home/XXX/XXX</span><br><span class="line"></span><br><span class="line">download from server</span><br><span class="line">  // many files</span><br><span class="line">scp user@ip:&quot;/path/of/file1 /path/of/file2&quot; ./</span><br><span class="line">  // recursive download, such a dir </span><br><span class="line">scp -r user@ip:/path/of/dir ./</span><br></pre></td></tr></table></figure>
<p>scp默认覆盖已经存在的文件和目录。</p>
<h2 id="cdh-和-pushd"><a href="#cdh-和-pushd" class="headerlink" title="cdh 和 pushd"></a>cdh 和 pushd</h2><p>vim作为文本编辑器非常强大，但很多时候还是要跳出vim到命令行进行操作，如复制文件，运行命令<br>行命令等。vim中可以使用ctrlp的MRU File功能，但命令行中切换mru dir怎么办？<br>我记得之前有个autojump插件(fish shell也支持), 打算装上，但在stack overflow上看到了更多<br>的解决方案，相比这个简单需要完全不需要装插件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1. cd -  在2个目录间进行跳转，类似于vim的ctrl+6交互文件</span><br><span class="line">2. pushd/popd  </span><br><span class="line">   下面这个是fish shell的man页面</span><br><span class="line">   The pushd function adds DIRECTORY to the top of the directory stack and makes it the </span><br><span class="line">   current working directory. popd will pop it off and return to the original directory.</span><br><span class="line"></span><br><span class="line">   Without arguments, it exchanges the top two directories in the stack.</span><br><span class="line"></span><br><span class="line">   pushd +NUMBER rotates the stack counter-clockwise i.e. from bottom to top</span><br><span class="line">   pushd -NUMBER rotates clockwise i.e. top to bottom.</span><br><span class="line"></span><br><span class="line">   See also dirs and dirs -c.</span><br><span class="line">   You may be interested in the cdh command which provides a more intuitive way to navigate to recently visited directories.</span><br><span class="line"></span><br><span class="line">   经测试，bash下pushd, dirs也可以使用，cdh是fish shell自己封装的一个交互跳转页面</span><br></pre></td></tr></table></figure></p>
<p>总体来说，我本地是fish, 用cdh比较方便，其他环境使用以下命令组合:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pushd /path/of/dir</span><br><span class="line">dirs -v</span><br><span class="line">pushd +n // n 是dirs -v显示的序号</span><br><span class="line">pushd    // 等同于 pushd +0</span><br></pre></td></tr></table></figure></p>
<h2 id="bashrc和-bash-profile"><a href="#bashrc和-bash-profile" class="headerlink" title=".bashrc和.bash_profile"></a>.bashrc和.bash_profile</h2><p>由于我想使用xcape修改键盘，按网上博客将相关命令代码放在.bashrc中，代码如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Run xcape once.</span><br><span class="line">if [ -z $XCAPE ];then</span><br><span class="line">  export XCAPE=1</span><br><span class="line">  /usr/bin/xcape -e &apos;Super_L=Escape;Shift_R=parenleft&apos; </span><br><span class="line">fi</span><br></pre></td></tr></table></figure></p>
<p>可以看到，它通过判断XCAPE变量长度是否为0进行操作，如果为空，就执行xcape命令，否则就不会重复<br>执行。之前没在意这点，后来发现多次打开终端terminator窗口，发现按右shift产生了多个括号，<br>开始以为是xcape命令的问题，后来”不小心”发现有多个xcape进程同时运行！</p>
<p>问题就出在.bashrc中没有实现需要的export出全局变量的功能！那么这段代码应该放在哪里？</p>
<p>寻找了好久，试了/etc/profile, .profile, <code>.bash_profile</code>, /etc/init.d/rc.local, .xsessionrc,<br>全都不行！</p>
<p>经网上资料查找到bash manual, 其中对它们的区别作出了说明。这里翻译一下bash manual相关内容。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1. 通过登录的交互式shell登录， 或是--login参数登录时:</span><br><span class="line"> 先读取/etc/profile,再是`~/.bash_profile`,`~/.bash_login`, ~/.profile.会顺序查找执行第一个</span><br><span class="line"> 找到的可执行文件，剩下的会被忽略。执行exit命令退出时，会尝试执行`~/.bash_logout`.</span><br><span class="line"> 有些shell没有按照这个顺序查找，如dash,它只看.profile, 所以如果使用其他shell作为</span><br><span class="line"> login shell时(如使用了命令chsh -s), 这时应当修改.profile才会生效。</span><br><span class="line"></span><br><span class="line">2. 如果是交互式非登录方式(一般的默认方式).</span><br><span class="line"> 会执行.bashrc, 即打开一个终端实例，即会执行一次.bashrc, 通常推荐在`.bash_profile`中包含</span><br><span class="line"> 执行.bashrc文件，为</span><br><span class="line">```txt</span><br><span class="line">  if [ -f ~/.bashrc ]; then . ~/.bashrc; fi</span><br></pre></td></tr></table></figure></p>
<ol start="3">
<li><p>当不是交互式执行bash时，如执行脚本时<br>终端会执行<code>$BASH_ENV</code>变量，执行过程等同与执行以下命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if [ -n &quot;$BASH_ENV&quot; ]; then . &quot;$BASH_ENV&quot;; fi</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过sh命令执行命令<br>基本等同于以上步骤，如果是login或–login的终端中执行的sh命令，会读取/etc/profile, ~/.profile;<br>如果是交互式shell, 会读取变量ENV.非交互式的Shell执行sh命令不会尝试读取任何其他的启动文件，<br>如脚本中的sh命令。</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">由上可知，每次打开新的终端窗口，都会执行<span class="string">.bashrc</span>文件，所以我将想只在登录时执行一次的代码</span><br><span class="line">放到<span class="string">.bash_profile</span>中，可以登录后手动source <span class="string">.bash_profile</span>, 但不能重复执行。</span><br><span class="line"></span><br><span class="line">注: <span class="string">/etc/environment</span>是适用于所有用户的，归root用户管理，需要sudo进行修改，不应当修改它，</span><br><span class="line">它通常只包含一行:</span><br><span class="line">```txt</span><br><span class="line">PATH=<span class="string">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games"</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>如果只适用与当前用户的环境变量应当放在.profile中，如果想适用到所有用户，也不应当直接修改<br>/etc/profile, 而是应当在/etc/profile.d/下新建可执行的XX.sh脚本。</p>
<p>我使用的xmonad,通过以上方法新建脚本，在其中export相应的环境变量，发现xmonad也能获取到相应的<br>环境变量，这样就不用额外执行对应的脚本了。同时在.xsessionrc执行xcape … &amp; 也能正确响应，<br>成功！</p>
<p>注: .xsessionrc在每次X的session启动时都会执行，而/etc/init.d/rc.local说是只有第一次启动时<br>会执行，后面xserver重启时就不会执行(待测试)。</p>
<h2 id="Teminator主题精选"><a href="#Teminator主题精选" class="headerlink" title="Teminator主题精选"></a>Teminator主题精选</h2><p>以下是我精选的Terminator主题，来源是<a href="https://github.com/EliverLara/terminator-themes" target="_blank" rel="noopener">github</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cai, Cobalt2, Dracula(default), Elio, Glacier, Homebrew, Jellybeans, Monokai Vivid, </span><br><span class="line">Pandora, pro</span><br></pre></td></tr></table></figure></p>
<p>字体选择自带的Nimbus Mono L Bold 13即可。<br>注: terminator copy and paste:<br>ctrl + shift + c<br>ctrl + shift + v<br>这适用于提取fish命令到剪切板中。</p>
<h2 id="kitty-and-fira-code"><a href="#kitty-and-fira-code" class="headerlink" title="kitty and fira-code"></a>kitty and fira-code</h2><p>昨天刚刚找了很多Terminator的主题,今天想找到能够区分1和l(lowercase of L)的字体，结果发现了<br>fira-code! 感觉非常神奇，但是Terminator还不能支持它，linux上可以装kitty支持它。<br>但kitty虽然速度快，但目前还非常小众，没有Terminator的精美样式。<br>所以我先装下网上推荐的input字体看看效果，毕竟我本来是要装字体的….<br>清晰的字体要能明显区分以下内容:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 l</span><br><span class="line">O 0</span><br><span class="line">S 5</span><br><span class="line">0 o</span><br></pre></td></tr></table></figure></p>
<p>ubuntu上安装过程:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 在input页面自己定制字体，尤其是上面的l, i部分</span><br><span class="line">2. 下载自定义的input包，里面除了自定义的字体包外，有一个可以修改自定义的python脚本，先不管它。</span><br><span class="line">3. mkdir ~/.fonts</span><br><span class="line">4. cp -r ~/Downloads/input/* ~/.fonts   // 将所有的ttf格式字体拷贝到.fonts目录下</span><br><span class="line">5. fc-cache -f -v   // 强制刷新字体缓存，使得新装字体生效 </span><br><span class="line">6. 在teminator中选择input bold字体，done!</span><br></pre></td></tr></table></figure></p>
<h2 id="vmware-workstation-虚拟机减小硬盘容量-decrease-vmware-workstation-hard-disk-size"><a href="#vmware-workstation-虚拟机减小硬盘容量-decrease-vmware-workstation-hard-disk-size" class="headerlink" title="vmware workstation 虚拟机减小硬盘容量(decrease vmware workstation hard disk size)"></a>vmware workstation 虚拟机减小硬盘容量(decrease vmware workstation hard disk size)</h2><p>vmware虚拟机扩大硬盘容量非常简单，直接在设置中扩容即可，但想要减小容量确不能直接操作。<br>在网上搜索到quora中有人提供了3种方法。</p>
<ol>
<li>vSphere Manager. 经搜索每找到对应的工具</li>
<li>vmware converter. vmware推荐工具, 我最后采用的方法</li>
<li>qemu-img工具。它是属于QEMU的工具。</li>
</ol>
<p>第3种方法看起来最简单方便，经查看是对单个vmdk包进行大小修改，我的虚拟机中有好几个vmdk文件，<br>所有操作起来有一定风险。</p>
<p>第2种方法是官方工具，但使用下来主要是速度非常慢，我失败了1次，第2次成功，前后接近2小时多<br>时间才得到转换后的包。下面记录下过程和坑。</p>
<ol>
<li>下载vmware converter, 我的版本是6.2.0-8466193.exe版本。支持转换win 10.</li>
<li>需要关闭windows实时防护等，我自己是关闭所有防火墙。否则转换中会失败。</li>
<li>用管理员运行converter, 否则选择local merchine时报错permission not allowed.</li>
<li>开始转换，source 选local machine, destination选vmware workstation, 这里只能选到<br>vmware workstation 11/12. 在后面的edit界面中重新选择磁盘大小。</li>
<li>转换结束，因为我的workstation是15版本，直接启动始终转圈，后面看到有个upgrade选项，<br>果断点击clone 升级。</li>
</ol>
<h2 id="xfce使用快捷键将窗口在多显示器之间移动"><a href="#xfce使用快捷键将窗口在多显示器之间移动" class="headerlink" title="xfce使用快捷键将窗口在多显示器之间移动"></a>xfce使用快捷键将窗口在多显示器之间移动</h2><p>本来我是用xmonad的，经过不少折腾，基本上能流畅使用了，但xmonad有个问题: 即如果在vim中使用<br>如ctrlp插件快速切换多个文本文件时，vim会明显卡住，导致屏幕显示内容出现问题，该问题后来<br>没有找到合适的解决方法，个人感觉和xmonad的标准输入记录有关(即上面显示当前工作区和内容的区域),<br>怀疑是快速切换时造成xmonad的输入管道堵塞引起(纯粹个人猜测，因为目前还没有去专门学习haskell)。<br>Anyway, 后来发现wayland和xfce没有vim的该问题，快速切换时非常流畅，没有卡屏现象; 而且又发现<br>xfce提供了windows manager设置功能，完全可以将xmonad的快捷键照搬到其中，非常方便，而且它还<br>可以删减工作区(alt + insert/delete即可)，这也是我想要的一个功能，xmonad目前默认9个，想减少<br>还没有找到合适方法(同样，没有专门学习haskell). </p>
<p>那么最后的问题是，如何在xfce中实现多显示屏之间的窗口移动和焦点切换？<br>xfce本身没有支持，网上有提供脚本实现，这里记录下尝试过程。</p>
<ol>
<li>sudo apt install xdotool wmctrl</li>
<li><p>vi moveWindow.sh</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">#</span><br><span class="line"># Move the current window to the next monitor.</span><br><span class="line">#</span><br><span class="line"># Also works only on one X screen (which is the most common case).</span><br><span class="line">#</span><br><span class="line"># Props to</span><br><span class="line"># http://icyrock.com/blog/2012/05/xubuntu-moving-windows-between-monitors/</span><br><span class="line">#</span><br><span class="line"># Unfortunately, both &quot;xdotool getwindowgeometry --shell $window_id&quot; and</span><br><span class="line"># checking &quot;-geometry&quot; of &quot;xwininfo -id $window_id&quot; are not sufficient, as</span><br><span class="line"># the first command does not respect panel/decoration offsets and the second</span><br><span class="line"># will sometimes give a &quot;-0-0&quot; geometry. This is why we resort to &quot;xwininfo&quot;.</span><br><span class="line"></span><br><span class="line">screen_width=$(xdpyinfo | awk -F&quot; |x&quot; &apos;/dimensions:/ &#123; print $7 &#125;&apos;)</span><br><span class="line">screen_height=$(xdpyinfo | awk -F&quot; |x&quot; &apos;/dimensions:/ &#123; print $8 &#125;&apos;)</span><br><span class="line">window_id=$(xdotool getactivewindow)</span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">    -l )</span><br><span class="line">        display_width=$((screen_width / 3 * 2)) ;;</span><br><span class="line">    -r )</span><br><span class="line">        display_width=$((screen_width / 3)) ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line"># Remember if it was maximized.</span><br><span class="line">window_state=$(xprop -id $window_id _NET_WM_STATE | awk &apos;&#123; print $3 &#125;&apos;)</span><br><span class="line"></span><br><span class="line"># Un-maximize current window so that we can move it</span><br><span class="line">wmctrl -ir $window_id -b remove,maximized_vert,maximized_horz</span><br><span class="line"></span><br><span class="line"># Read window position</span><br><span class="line">x=$(xwininfo -id $window_id | awk &apos;/Absolute upper-left X:/ &#123; print $4 &#125;&apos;)</span><br><span class="line">y=$(xwininfo -id $window_id | awk &apos;/Absolute upper-left Y:/ &#123; print $4 &#125;&apos;)</span><br><span class="line"></span><br><span class="line"># Subtract any offsets caused by window decorations and panels</span><br><span class="line">x_offset=$(xwininfo -id $window_id | awk &apos;/Relative upper-left X:/ &#123; print $4 &#125;&apos;)</span><br><span class="line">y_offset=$(xwininfo -id $window_id | awk &apos;/Relative upper-left Y:/ &#123; print $4 &#125;&apos;)</span><br><span class="line">x=$((x - x_offset))</span><br><span class="line">y=$((y - y_offset))</span><br><span class="line"></span><br><span class="line"># Fix Chromium app view issue of small un-maximized size</span><br><span class="line">width=$(xdotool getwindowgeometry $window_id | awk -F&quot; |x&quot; &apos;/Geometry:/ &#123; print $4 &#125;&apos;)</span><br><span class="line">if [ &quot;$width&quot; -lt &quot;150&quot; ]; then</span><br><span class="line">  display_width=$((display_width + 150))</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># Compute new X position</span><br><span class="line">new_x=$((x + display_width))</span><br><span class="line"># Compute new Y position</span><br><span class="line">new_y=$((y + screen_height))</span><br><span class="line"></span><br><span class="line"># If we would move off the right-most monitor, we set it to the left one.</span><br><span class="line"># We also respect the window&apos;s width here: moving a window off more than half its width won&apos;t happen.</span><br><span class="line">if [ $((new_x + width / 2)) -gt $screen_width ]; then</span><br><span class="line">  new_x=$((new_x - screen_width))</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">height=$(xdotool getwindowgeometry $window_id | awk -F&quot; |x&quot; &apos;/Geometry:/ &#123; print $5 &#125;&apos;)</span><br><span class="line">if [ $((new_y + height / 2)) -gt $screen_height ]; then</span><br><span class="line">  new_y=$((new_y - screen_height))</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># Don&apos;t move off the left side.</span><br><span class="line">if [ $new_x -lt 0 ]; then</span><br><span class="line">  new_x=0</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># Don&apos;t move off the bottom</span><br><span class="line">if [ $new_y -lt 0 ]; then</span><br><span class="line">  new_y=0</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># Move the window</span><br><span class="line">xdotool windowmove $window_id $new_x $new_y</span><br><span class="line"></span><br><span class="line"># Maintain if window was maximized or not</span><br><span class="line">if [ &quot;$&#123;window_state&#125;&quot; = &quot;_NET_WM_STATE_MAXIMIZED_HORZ,&quot; ]; then</span><br><span class="line">    wmctrl -ir $window_id -b add,maximized_vert,maximized_horz</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
<li><p>chmod +x moveWindow.sh</p>
</li>
<li>application -&gt; settings -&gt; keyboard -&gt; add<br>command: sh /home/tao/Documents/moveWindow.sh<br>shortcut: super + shift + o</li>
</ol>
<p>经测试，在双屏显示中完美生效，多次按键相同窗口在左右显示屏中来回切换。<br>网上还有针对三屏显示器的改进脚本，这里不再记述。</p>
<h2 id="vmware-合并多个vmdk文件"><a href="#vmware-合并多个vmdk文件" class="headerlink" title="vmware 合并多个vmdk文件"></a>vmware 合并多个vmdk文件</h2><p>vmware有个vmware-vdiskmanager工具, mac上的fusion中路径是<br><code>/Applications/VMware\ Fusion.app/Contents/Library/vmware-vdiskmanager</code><br>linux上的workstation是<code>/usr/bin/vmware-vdiskmanager --help</code>, help中有合并多个为一个的例子<br><code>即 vmware-vdiskmanager -r source.vmdk -t 0 destination.vmdk</code></p>
<h2 id="linux系统查找系统中的大文件"><a href="#linux系统查找系统中的大文件" class="headerlink" title="linux系统查找系统中的大文件"></a>linux系统查找系统中的大文件</h2><p>windows中有一个sniffspacer的软件可以快速查找出大文件, 而linux系统中直接使用find命令即可.<br>如以下命令查找当前目录大于1G的文件, 倒序格式化输出.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo find . -type f -size +1G  -print0 | xargs -0 du -h | sort -nr</span><br></pre></td></tr></table></figure></p>
<p>对于目录可以使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo du -lh --max-depth=1 | sort -nr | head -30</span><br></pre></td></tr></table></figure></p>
<h2 id="WSL-初体验"><a href="#WSL-初体验" class="headerlink" title="WSL 初体验"></a>WSL 初体验</h2><p>WSL: Windows Subsystem for Linux<br>之前听说过win10现在自带linux了, 但没有尝试. 最近感觉cmder启动太慢, 所以想着可以试试WSL,<br>看看是不是能快很多, 最终结果是打开windows自身命令行窗口超快, 再输入bash, 即可以完美使用<br>linux终端了, 使用mount命令可以看到windows系统的c, d盘都能在/mnt/c 或 d盘下找到, 至此即<br>可以卸载cmder, 享受原生命令行窗口的超速度.<br>下面是一些简单步骤, 具体可以查看网上教程:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. 在设置-&gt; 安全与更新 -&gt; 打开开发者选项. 这一步开始比较卡, 后面成功了, 没啥问题.</span><br><span class="line">2. 控制面板-&gt; 程序和功能-&gt;启用关闭windows功能-&gt;勾选适用于Linux的Windows子系统 </span><br><span class="line">3. 这一步网上说执行lxrun命令安装linux, 但命令行提示出一个网址, 直接复制后在浏览器打开,</span><br><span class="line">它会自动打开windows store, 点击安装ubuntu即可, 默认安装位置在c盘, 后面无法移动位置.</span><br><span class="line">注: 为提高下载速度, 说是要打开设置-&gt;更新与安全-&gt;传递优化中-&gt;打开允许从其他电脑下载-&gt;</span><br><span class="line">选择第2个, 我本地上的电脑和internet上的电脑.</span><br><span class="line">4. 在安装后的命令窗口中输入用户名和密码即可.</span><br><span class="line">5. 同真正的ubuntu系统一样, 更新数据源为阿里云</span><br><span class="line">6. 安装fish, 设置对应的fish别名, 移植vimrc配置</span><br></pre></td></tr></table></figure></p>
<p>注: 原生的cmd窗口毕竟太挫, 网上推荐windows terminal, 后来费劲将windows升级到最新的19, 成功<br>安装了windows terminal, 真香!</p>
<p>重启WSL的方式是在服务中寻找一个名为LxssManager的服务,服务介绍说是在windows上支持运行ELF格式<br>文件, 重启该服务即重启了WSL.</p>
<p>WSL不能直接使用windows上的jdk, 需要使用apt下载linux版的jdk, maven倒是不影响, 系统通用.<br>测试时发现, settings.xml配置文件中的localRepository也需要进行修改, 确保maven能查找到对应的<br>本地仓库, 最好就是将WSL和windows的配置分开, 使用不同的配置文件.<br>对于nodejs也是如此,需要另外下载.<br>网上有推荐使用nvm安装nodeJs的, 经测试使用命令<br><code>curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.35.2/install.sh | bash</code><br>报错拒绝连接, 打开vpn并在环境变量配置重启WSL后成功链接上, 但是又报错<br><code>invalid argument, uv_pipe_open</code>.<br>于是改用apt来装:</p>
<ol>
<li>添加apt仓库源:(通过nodesource安装时需要指定版本)<br>curl -sL <a href="https://deb.nodesource.com/setup_12.x" target="_blank" rel="noopener">https://deb.nodesource.com/setup_12.x</a> | sudo -E bash -</li>
<li>sudo apt install nodejs</li>
<li>node -v, npm -v, done<br>因为之前windows装了windowsNVM来管理不同的node版本, 这里可以使用sudo npm i -g n安装n模块<br>来进行管理.</li>
</ol>
<p>注: 因为之前测试发现npm install时有的依赖如node-sass会根据不同的系统环境安装不同的依赖版本,<br>即在linux环境中安装的依赖是不能直接拿到windows中使用的, 所以如果想切换的话需要重新安装,<br>这里在使用windows-terminal时, default shell打开WSL, 可以写个启动脚本使用fish shell.</p>
<p>写WSL启动执行脚本步骤:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1. sudo vi /etc/init.wsl</span><br><span class="line">内容为</span><br><span class="line">#!/bin/sh</span><br><span class="line">fish</span><br><span class="line"></span><br><span class="line">sudo chmod +x /etc/init.wsl添加可执行权限</span><br><span class="line"></span><br><span class="line">2. windows系统中使用windows+r打开startup目录,创建WSL.vbs文件夹, 内容为:</span><br><span class="line">Set ws = CreateObject(&quot;Wscript.Shell&quot;)</span><br><span class="line">ws.run &quot;wsl -d Ubuntu-18.04 -u root /etc/init.wsl&quot;, vbhide</span><br><span class="line">其中 wsl -d 为执行wsl版本, -u用户, 后面是可执行脚本</span><br><span class="line"></span><br><span class="line">3. 重启,测试, 发现无效果, 将上面的vbs脚本的vbhide去掉, 直接双击执行,发现弹出了fish窗口, </span><br><span class="line">可以想到fish毕竟不是服务, 这种方式只适合启动后台服务, 如ssh, cron等.</span><br><span class="line"></span><br><span class="line">4. 所以还是用老老实实使用命令`chsh -s /usr/bin/fish`修改默认shell为fish, 需要bash时直接切换即可.</span><br><span class="line">注: 我linux主机上是用了terminator的command命令实现的, 现在想来没有必要</span><br></pre></td></tr></table></figure></p>
<p>注: 原来cmder是通过git for windows实现了windows系统上运行linux命令, git for windows的<br>/usr/bin中可以看到如bash, mintty等多个shell运行方式.这样在cmder中执行npm install<br>安装的依赖自然就是windows环境中的了, 如此看来, windows terminal通过WSL实现了linux命令的<br>运行, 但命令的执行环境还是linux(外面是一个完整的ubuntu), 完成自己需要的功能时, 如启动java<br>项目, 启动node项目时具体什么环境是无关紧要的(毕竟最重要的是代码), 但如果需要进行迁移操作时,<br>这个时候cmder(或者说git for windows bash)还是无法替代的, 毕竟它是”原生”的windows环境.<br>而windows terminal还是只有最基础的cmd窗口.</p>
<p>经测试:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">同一个node项目, 在WSL中安装node(sudo apt安装)后执行npm install得到的node_modules在</span><br><span class="line">cmder(git for windows)中无法运行, 执行npm start报错failed to start, npm install报错</span><br><span class="line">unsupported platform, 删除node_modules后cmder安装自己的依赖即可成功.</span><br></pre></td></tr></table></figure></p>
<p>注: 使用ahk让快捷键F12快速启动cmder时发现问题，ahk脚本命令如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">F12::run, D:\wtt\cmder\Cmder.exe</span><br></pre></td></tr></table></figure></p>
<p>这时启动cmder发现启动目录是startUp目录(我的脚本是放在启动目录中的), 经搜索可以改为如下命令，<br>经测试有效。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">F12::run, D:\wtt\cmder\Cmder.exe /START D:\</span><br></pre></td></tr></table></figure></p>
<h2 id="升级到WSL2失败"><a href="#升级到WSL2失败" class="headerlink" title="升级到WSL2失败"></a>升级到WSL2失败</h2><p>WSL2虽然用了虚拟机技术, 但毕竟版本更新, 支持功能更多, 还是决定升到WSL2</p>
<ol>
<li>加入体验计划</li>
<li>打开或关闭windows功能中勾选虚拟平台, 重启电脑.</li>
<li>wsl –set-version option不存在, 查看到操作系统版本号1909, 但操作系统版本18363, 更新时<br>提示已经是最新版, 没啥办法只有等几天看看了, 估计和体验计划有关.</li>
</ol>
<h2 id="虚拟机折腾"><a href="#虚拟机折腾" class="headerlink" title="虚拟机折腾"></a>虚拟机折腾</h2><p>因为之前vmware fusion升级后有虚拟机长时间不用自动关机的毛病，后来又转回parallels desktop,<br>parallel v15目前没有破解版，但对于linux 内核5.3.26版本的linux经测试只有v15的parallel tool<br>才能正常使用，因为我有v14的破解版，所以我升级到v15的试用版后安装好tool, 再重新安装v14(它会<br>覆盖v15), 这样就可以正常使用了(后来在github上找到有人提供了修改parallel tools中的文件以支持<br>新版本linux内核的办法<a href="https://gist.github.com/mag911/1a5583a766467d6023584d738cee0d98" target="_blank" rel="noopener">github链接</a>)。<br>但装好parallel tool后发现使用xmonad不支持双屏，但xfce能正常支持。<br>注： 后来又发现安装好parallel tool的标志是标题栏中没有ctrl + alt释放鼠标的提示，从这点看<br>我还是没有安装成功，包括上面github链接的方法，所以parallel desktop中的ubuntu还是有问题，<br>但windows中的游戏运行非常顺畅，说明parallel对windows的支持是非常好的。</p>
<p>所以我还是要转回fusion, 使用vmware fusion的导入功能直接导入parallel的pvm文件后直接启动报错<br>找不到系统，所以再链接上iso文件，在原系统中再装一个ubuntu, 进入后使用disk工具将新装的系统<br>盘直接删除后重启报错，在grub界面设置root, prefix后normal命令启动，再sudo update-grub,<br>sudo grub-install /dev/sda后即可。<br>fusion启动xmonad后可以正常识别外接显示器，但分辨率有问题，<br>主屏幕是macbook, 外屏是hkc, 使用xrandr命令可以正常设置。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xrandr --output Virtual1 --mode &quot;1440x900&quot;</span><br><span class="line">xrandr --output Virtual2 --mode &quot;1440x2560&quot;</span><br></pre></td></tr></table></figure></p>
<p>可以将它放入.xsessionrc中。<br>注: 经测试直接将xrandr命令放入.xsessionrc中无效，目前有效的办法只有在进入xmonad后，确定<br>两边屏幕是独立工作空间(切换全屏来实现)后，执行上述2个命令，将上面2个命令放入一个脚本中<br>方便执行，目前由于key.sh的键盘映射用不到，所以放入key.sh中即可。</p>
<p>注: 我的键盘设置如capslock to esc, left shift to left parenthesis, space to ctrl的设置在<br>macbook kerabiner中全局设置了，所以虚拟机中无需使用key.sh和xcape命令，这里记录下防止以后<br>忘记。</p>
<h2 id="thinkpad外接显示屏"><a href="#thinkpad外接显示屏" class="headerlink" title="thinkpad外接显示屏"></a>thinkpad外接显示屏</h2><p>最近由于疫情隔离在家远程办公, 工作用的thinkpad在家里派上用场了, 突然想到它也可以外接我的<br>大显示器. 原以为需要另外买一根hdmi线, 但是发现thinkpad t540p也是有dp接口的, 插上试试果然可以<br>使用, 首先在ubuntu wayland中使用, 同mac系统一样在display中拖拽一下2个屏幕的位置就ok了.<br>打开xmonad发现2个屏幕是克隆(即同步显示相同内容)的关系. 使用命令<code>nvidia-settings</code>打开nvidia<br>设置窗口, 发现它给出提示外接大屏无法被nvidia控制, 于是又切换回ubuntu wayland界面, 在<br>software update中将显卡驱动由nvidia改为xorg, 再登录xmonad发现没有克隆了.通过拖拽窗口发现<br>2个大屏合并为了一个大屏, 还是没有实现xmonad不同屏幕不同工作空间的功能, 切换屏幕的快捷键<br>也无效. 关于双屏设置, 网上有2种方案, 一个就是xrandr命令, 另一个是xorg.config配置文件,<br>因为我对xrandr命令用的比较多, 所以使用xrandr命令, 使用以下命令:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr --auto --output DP-1 --left-of eDP-1</span><br></pre></td></tr></table></figure></p>
<p>其中DP-1是大屏代号, eDP-1是thinkpad, 一运行发现就ok了, 屏幕切换的快捷键也可以使用了.<br>将这条命令放入.xsessionrc中执行的key.sh脚本中开机自动执行即可.</p>
<p>注: 以上是2个屏幕同时水平横置的情况, 写代码时通常需要让大屏垂直放置.这时可以在以上命令<br>中加上一个参数即可实现:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr --auto --output DP-1 --rotate right --left-of eDP-1</span><br></pre></td></tr></table></figure></p>
<p>其中, rotate参数值有left, right, normal, inverted4种, 具体根据自己屏幕的旋转方向选择.</p>
<p>再注: 虚拟机windows系统打开后发现屏幕方向是横向的, 且是灰色状态, 无法修改, 后经搜索,<br>发现只要安装了vmware tools, 它是可以修改的, 但我已经安装了vmware tool, 于是尝试进行全屏<br>切换操作, 虚拟机就自动转换为竖屏了, 这里记录下, 对于虚拟机, 切换全屏是让vmware tool生效<br>的好方法.<br>注: 用于工作的windows虚拟机又无法在竖屏状态下正确设置分辨率了…, 折腾了半天,<br>关键还是在vmware tool上, vmx里的backdoor还是要设置为false使其成为真正的虚拟机.<br>其他设置有:</p>
<ol>
<li>vmware settings -&gt; display -&gt; autodect host settings for monitor即可. </li>
<li>view -&gt; autosize -&gt; autofit guest ,  non check autofit window.<br>实际上,可以先将分辨率设置为横屏的2560x1440后再重启切换全屏, 在vmware-tools生效的情况下<br>应该就可以正常展示出竖屏效果了.</li>
</ol>
<h2 id="old-mac-install-manjaro"><a href="#old-mac-install-manjaro" class="headerlink" title="old mac install manjaro"></a>old mac install manjaro</h2><p>pacman command:<br>sudo pacman -S 软件名　# 安装<br>sudo pacman -R 软件名　# 删除单个软件包，保留其全部已经安装的依赖关系<br>sudo pacman -Rs 软件名 # 除指定软件包，及其所有没有被其他已安装软件包使用的依赖关系<br>sudo pacman -Ss 软件名  # 查找软件<br>sudo pacman -Sc # 清空并且下载新数据<br>sudo pacman -Syu　# 升级所有软件包<br>sudo pacman -Qs # 搜索已安装的包</p>
<p>yay command:<br>yay -S package # 从 AUR 安装软件包<br>yay -Rns package # 删除包<br>yay -Syu # 升级所有已安装的包<br>yay -Ps # 打印系统统计信息<br>yay -Qi package # 检查安装的版本</p>
<ol>
<li>install</li>
<li>sudo pacman-mirrors -c China -m rank</li>
<li><p>update source: archlinuxcn antergos arch4edu</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">SigLevel = Optional TrustedOnly</span><br><span class="line">#中科大源</span><br><span class="line">Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch</span><br><span class="line">#清华源</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch</span><br><span class="line"></span><br><span class="line">[antergos]</span><br><span class="line">SigLevel = TrustAll</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/antergos/$repo/$arch</span><br><span class="line"></span><br><span class="line">[arch4edu]</span><br><span class="line">SigLevel = TrustAll</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/arch4edu/$arch</span><br></pre></td></tr></table></figure>
</li>
<li><p>sudo pacman-mirrors -g</p>
</li>
<li>sudo pacman -Syyu</li>
<li>sudo pacman -S archlinuxcn-keyring</li>
<li>sudo pacman -S antergos-keyring</li>
<li><p>before install fcitx, change locale to chinese<br>sudo pacman -S fcitx-im // install all<br>sudo pacman -S fcitx-configtool</p>
</li>
<li><p>vi ~/.xprofile</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export GTK_MODULE=fcitx</span><br><span class="line">export QT_IM_MODULE=fcitx</span><br><span class="line">export XMODIFIERS=&quot;@im=fcitx&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>sudo pacman -S yay</p>
</li>
<li>yay –aururl “<a href="https://aur.tuna.tsinghua.edu.cn&quot;" target="_blank" rel="noopener">https://aur.tuna.tsinghua.edu.cn&quot;</a> –save</li>
<li>yay -P -g  // confirm the change</li>
<li>yay -Syu  // update like pacman</li>
<li><p>before install v2ray, git… etc, install graphic driver for<br>manjaro on mac according to archLinux wiki for mac<br>lspci | grep VGA    // intel corporation …<br>sudo pacman -S xf86-video-intel</p>
</li>
<li><p>yay -S xmonad xmonad-contrib</p>
</li>
<li>yay -S vim fish git</li>
<li>which fish // /usr/bin/fish<br>chsh -s /usr/bin/fish</li>
<li>git config –global user.name “wutaotao”<br>git config –global user.email “<a href="mailto:531618500@qq.com" target="_blank" rel="noopener">531618500@qq.com</a>“<br>ssh-keygen -t rst -C “<a href="mailto:531618500@qq.com" target="_blank" rel="noopener">531618500@qq.com</a>“</li>
<li>git clone  xxx.xmonad.config ~/.xmonad</li>
<li>yay -S xmobar dmenu xscreensaver stalonetray feh</li>
<li>copy .vimrc</li>
<li>yay -S curl</li>
<li>yay -S v2ray  // systemctl enable it and change config</li>
<li>yay -S proxychains-ng<br>sudo vim /etc/proxychains.conf<br>socks5 127.0.0.1 1080  // modify the old example<br>proxychains curl <a href="http://www.google.com" target="_blank" rel="noopener">www.google.com</a>   // usage and test</li>
<li>yay -S google-chrome</li>
<li>google-chrome-stable –proxy-server=socks5://127.0.0.1:1080    // can not add / at last position!</li>
<li>proxychains git clone <a href="https://github.com/VundleVim/Vundle.vim.git" target="_blank" rel="noopener">https://github.com/VundleVim/Vundle.vim.git</a> ~/.vim/bundle/Vundle.vim</li>
<li>proxychains vim</li>
<li>:PluginInstall</li>
</ol>
<h2 id="ubuntu-server-18-04-resize-disk-size"><a href="#ubuntu-server-18-04-resize-disk-size" class="headerlink" title="ubuntu server 18.04 resize disk size"></a>ubuntu server 18.04 resize disk size</h2><p>this is the way to enlarge the ubuntu file disk size.</p>
<ol>
<li>enlarge the vmware guest system SCSI disk size from 20G to 40G.</li>
<li>fdisk /dev/sda to create a new partition 20G, linux file system type.<br>it can also be done using cfdisk etc.<br>here the original disk partition is /dev/sda3, new one is /dev/sda4</li>
<li>create physical volume on new created partition /dev/sda4<br><code>pvcreate /dev/sda4</code><br>use pvdisplay to check the result.</li>
<li>extend the logical volume group to use the new physical volume too.<br><code>sudo vgs</code>, <code>sudo vgdisplay</code>   // get the logical volume group name<br><code>sudo vgextend ubuntu-vg /dev/sda4</code><br>use sudo vgs to check results</li>
<li>extend the logical volume to use the newly extended size<br><code>sudo lvs</code>, <code>sudo lvdisplay</code>   // get the logical volume path<br><code>sudo lvextend -l +100%FREE /dev/ubuntu-vg/ubuntu-lv</code><br>use sudo lvs to check results</li>
<li>resize logical volume<br><code>sudo resize2fs /dev/ubuntu-vg/ubuntu-lv</code> // still use the lv path</li>
<li>check result<br><code>df -lh</code><br>done!</li>
</ol>
<h2 id="dual-boot-with-ubuntu-server-and-centos-server-with-remote-ssh"><a href="#dual-boot-with-ubuntu-server-and-centos-server-with-remote-ssh" class="headerlink" title="dual boot with ubuntu server and centos server with remote ssh"></a>dual boot with ubuntu server and centos server with remote ssh</h2><ol>
<li>install ubuntu server first, 2 partitions, /, /boot, the /boot can not be omitted for<br>the dual boot installation.</li>
<li>then install centos server, need to remove ubuntu swap first, then it’s possible to<br>create centos /boot partition, and we can only create swap in centos os.</li>
<li>use the following command to set the default bootable os<br><code>txt
awk -F\&#39; &#39;$1==&quot;menuentry &quot; {print i++ &quot; : &quot; $2}&#39; /etc/grub2.cfg
grub2-editenv list
grub2-set-default 2
grub2-editenv list
`</code><br>after reboot, we can find the default os is 2, ubuntu, we can choose back to centos in<br>startup menu, i have not found a way to set the default value after entering ubuntu system.<br>so it’s necessary to use monitor and keyboard to switch oses.</li>
</ol>
<p><hr><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="http://wutaotaospace.oss-cn-beijing.aliyuncs.com/image/20190510_1.jpg" class="full-image"></p>

      
    </div>

    
      

  <div class="popular-posts-header">相关文章</div>
  <ul class="popular-posts">
  
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="/post/7bee19a4/" rel="bookmark">SpringCloud学习笔记</a></div>
      
    </li>
  
  </ul>


    

    
    
    

    

    
      
    
    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div></div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById(&quot;QR&quot;); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="http://wutaotaospace.oss-cn-beijing.aliyuncs.com/image/wechat.jpg" alt="吴涛涛 微信支付">
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="http://wutaotaospace.oss-cn-beijing.aliyuncs.com/image/alipay.jpg" alt="吴涛涛 支付宝">
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
      <div>
        



  



<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>吴涛涛</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    
    <a href="http://www.taoblog.cn/post/1604d5df/" title="LinuxNote">http://www.taoblog.cn/post/1604d5df/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li>
</ul>

      </div>
    
    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a>
          
            <a href="/tags/RHEL-7/" rel="tag"><i class="fa fa-tag"></i> RHEL 7</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        
          <div class="wp_rating">
            <div id="wpac-rating"></div>
          </div>
        

        

        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/post/8b2fd91d/" rel="next" title="MacOS 重装笔记">
                <i class="fa fa-chevron-left"></i> MacOS 重装笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/post/2a1ddb5b/" rel="prev" title="Java1_Core10Note">
                Java1_Core10Note <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <a href="/">
              <img class="site-author-image" itemprop="image" src="http://wutaotaospace.oss-cn-beijing.aliyuncs.com/image/maya.jpg" alt="吴涛涛">
                </a>
            
              <p class="site-author-name" itemprop="name">吴涛涛</p>
              <p class="site-description motion-element" itemprop="description">wutaotao personal blog</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">23</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">17</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">50</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/wutaotao2015" title="GitHub &rarr; https://github.com/wutaotao2015" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://hexo.io/zh-cn/docs/" title="https://hexo.io/zh-cn/docs/" rel="noopener" target="_blank">Hexo</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://theme-next.iissnan.com/getting-started.html" title="http://theme-next.iissnan.com/getting-started.html" rel="noopener" target="_blank">Next</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.lingblog.net/" title="http://www.lingblog.net/" rel="noopener" target="_blank">cllBlog</a>
                  </li>
                
              </ul>
            
            </div>
          

          
          
          <div id="days"></div>
<script>
function show_date_time(){
window.setTimeout("show_date_time()", 1000);
BirthDay=new Date("01/18/2019 23:48:05");
today=new Date();
timeold=(today.getTime()-BirthDay.getTime());
sectimeold=timeold/1000
secondsold=Math.floor(sectimeold);
msPerDay=24*60*60*1000
e_daysold=timeold/msPerDay
daysold=Math.floor(e_daysold);
e_hrsold=(e_daysold-daysold)*24;
hrsold=setzero(Math.floor(e_hrsold));
e_minsold=(e_hrsold-hrsold)*60;
minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
seconds=setzero(Math.floor((e_minsold-minsold)*60));
document.getElementById('days').innerHTML="blog has been running<br/>"
+daysold+" d "+hrsold+" h "+minsold+" m "+seconds+" s";
}
function setzero(i){
if (i<10)
{i="0" + i};
return i;
}
show_date_time();
</script>

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#RHEL-7-虚拟机安装"><span class="nav-number">1.</span> <span class="nav-text">RHEL 7 虚拟机安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用linux命令"><span class="nav-number">2.</span> <span class="nav-text">常用linux命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#简单命令"><span class="nav-number">2.1.</span> <span class="nav-text">简单命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#系统状态检测命令"><span class="nav-number">2.2.</span> <span class="nav-text">系统状态检测命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#工作目录切换"><span class="nav-number">2.3.</span> <span class="nav-text">工作目录切换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文本文件编辑命令"><span class="nav-number">2.4.</span> <span class="nav-text">文本文件编辑命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件目录管理命令"><span class="nav-number">2.5.</span> <span class="nav-text">文件目录管理命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打包压缩与搜索命令"><span class="nav-number">2.6.</span> <span class="nav-text">打包压缩与搜索命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#管道符、重定向与环境变量"><span class="nav-number">3.</span> <span class="nav-text">管道符、重定向与环境变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#输入输出重定向"><span class="nav-number">3.1.</span> <span class="nav-text">输入输出重定向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#管道命令符"><span class="nav-number">3.2.</span> <span class="nav-text">管道命令符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#命令行的通配符"><span class="nav-number">3.3.</span> <span class="nav-text">命令行的通配符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用的转义字符"><span class="nav-number">3.4.</span> <span class="nav-text">常用的转义字符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#重要的环境变量"><span class="nav-number">3.5.</span> <span class="nav-text">重要的环境变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vim编辑器与Shell命令脚本"><span class="nav-number">4.</span> <span class="nav-text">vim编辑器与Shell命令脚本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#scp命令"><span class="nav-number">5.</span> <span class="nav-text">scp命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cdh-和-pushd"><span class="nav-number">6.</span> <span class="nav-text">cdh 和 pushd</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bashrc和-bash-profile"><span class="nav-number">7.</span> <span class="nav-text">.bashrc和.bash_profile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Teminator主题精选"><span class="nav-number">8.</span> <span class="nav-text">Teminator主题精选</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#kitty-and-fira-code"><span class="nav-number">9.</span> <span class="nav-text">kitty and fira-code</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vmware-workstation-虚拟机减小硬盘容量-decrease-vmware-workstation-hard-disk-size"><span class="nav-number">10.</span> <span class="nav-text">vmware workstation 虚拟机减小硬盘容量(decrease vmware workstation hard disk size)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#xfce使用快捷键将窗口在多显示器之间移动"><span class="nav-number">11.</span> <span class="nav-text">xfce使用快捷键将窗口在多显示器之间移动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vmware-合并多个vmdk文件"><span class="nav-number">12.</span> <span class="nav-text">vmware 合并多个vmdk文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#linux系统查找系统中的大文件"><span class="nav-number">13.</span> <span class="nav-text">linux系统查找系统中的大文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WSL-初体验"><span class="nav-number">14.</span> <span class="nav-text">WSL 初体验</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#升级到WSL2失败"><span class="nav-number">15.</span> <span class="nav-text">升级到WSL2失败</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#虚拟机折腾"><span class="nav-number">16.</span> <span class="nav-text">虚拟机折腾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#thinkpad外接显示屏"><span class="nav-number">17.</span> <span class="nav-text">thinkpad外接显示屏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#old-mac-install-manjaro"><span class="nav-number">18.</span> <span class="nav-text">old mac install manjaro</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ubuntu-server-18-04-resize-disk-size"><span class="nav-number">19.</span> <span class="nav-text">ubuntu server 18.04 resize disk size</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dual-boot-with-ubuntu-server-and-centos-server-with-remote-ssh"><span class="nav-number">20.</span> <span class="nav-text">dual boot with ubuntu server and centos server with remote ssh</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2021</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">吴涛涛</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="站点总字数">501k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="站点阅读时长">7:36</span>
  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.0.0</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>







  




















  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script>

  
  <script src="//cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>


  


  <script src="/js/src/utils.js?v=7.0.0"></script>

  <script src="/js/src/motion.js?v=7.0.0"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.0"></script>




  
  <script src="/js/src/scrollspy.js?v=7.0.0"></script>
<script src="/js/src/post-details.js?v=7.0.0"></script>



  


  <script src="/js/src/bootstrap.js?v=7.0.0"></script>



  
  

  

<script src="//cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js"></script>



  

<script src="//cdnjs.cloudflare.com/ajax/libs/valine/1.3.4/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: '48ERsGJLrCK2gEVvR9razFEe-MdYXbMMI',
    appKey: 'mETL0o4bfizck0MCVvPOqv88',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false
  });
</script>




  


  



  
  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">

  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.js"></script>
  

  <script src="/js/src/algolia-search.js?v=7.0.0"></script>



  
  
  <script>
    
    function addCount(Counter) {
      var $visitors = $('.leancloud_visitors');
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
            Counter('put', '/classes/Counter/' + counter.objectId, JSON.stringify({ time: { '__op': 'Increment', 'amount': 1 } }))
            
              .done(function() {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.time + 1);
              })
            
              .fail(function ({ responseJSON }) {
                console.log(`Failed to save Visitor num, with error message: ${responseJSON.error}`);
              })
          } else {
            
              Counter('post', '/classes/Counter', JSON.stringify({ title: title, url: url, time: 1 }))
                .done(function() {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(1);
                })
                .fail(function() {
                  console.log('Failed to create');
                });
            
          }
        })
        .fail(function ({ responseJSON }) {
          console.log(`LeanCloud Counter Error: ${responseJSON.code} ${responseJSON.error}`);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'NCCFA0S02dv1PFmmODBJeCQO-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'NCCFA0S02dv1PFmmODBJeCQO-gzGzoHsz',
                'X-LC-Key': 'bAOsL8XKUXH3zST74CQcodSm',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            addCount(Counter);
          
        });
    });
  </script>



  

  

  

  

  

  

  
  <script>
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id: 16361,
      el: 'wpac-rating',
      color: 'fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  </script>


  
  
  
    
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/pangu/3.3.0/pangu.min.js"></script>
  <script>pangu.spacingPage();</script>


  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function(i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap');
      $(e).after($wrap);
      $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function(e) {
        var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
          return $(e).text();
        }).toArray().join('\n');
        var ta = document.createElement('textarea');
        var range = document.createRange(); //For Chrome
        var sel = window.getSelection(); //For Chrome
        var yPosition = window.pageYOffset || document.documentElement.scrollTop;
        ta.style.top = yPosition + 'px'; //Prevent page scroll
        ta.style.position = 'absolute';
        ta.style.opacity = '0';
        ta.value = code;
        ta.textContent = code; //For FireFox
        ta.contentEditable = true;
        ta.readOnly = false;
        document.body.appendChild(ta);
        range.selectNode(ta);
        sel.removeAllRanges();
        sel.addRange(range);
        ta.setSelectionRange(0, code.length);
        var result = document.execCommand('copy');
        
          if (result) $(this).text('复制成功');
          else $(this).text('复制失败');
        
        ta.blur(); //For iOS
        $(this).blur();
      })).on('mouseleave', function(e) {
        var $b = $(this).find('.copy-btn');
        setTimeout(function() {
          $b.text('复制');
        }, 300);
      }).append(e);
    })
  </script>


<script>!function(o){var i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function c(t,e){var n=new Image,o=t.getAttribute("data-original");n.onload=function(){t.src=o,e&&e()},n.src=o}function n(){for(var t=0;t<i.length;t++)e=i[t],void 0,0<=(n=e.getBoundingClientRect()).top&&0<=n.left&&n.top<=(o.innerHeight||document.documentElement.clientHeight)&&c(i[t],function(){i.splice(t,t)});var e,n;console.log("trigger")}n(),o.addEventListener("scroll",function(){var t,e;t=n,e=o,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>
</html>
